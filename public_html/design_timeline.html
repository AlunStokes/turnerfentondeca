<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>TFSS DECA | Design Timeline</title>

  <link href="https://fonts.googleapis.com/css?family=Raleway:400,500,800" rel="stylesheet">

  <!--CSS FILES-->
  <!-- Page CSS -->
  <link href="css/all.css" rel="stylesheet">
  <link href="css/design_timeline.css" rel="stylesheet">
  <link href="css/grid.css" rel="stylesheet">
  <link href="css/navbar.css" rel="stylesheet">

  <!--JavaScript Files-->
  <script
  src="https://code.jquery.com/jquery-3.1.1.min.js"
  integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
  crossorigin="anonymous"></script>

</head>

<body>
  <a href="landing"><img id="navbar-logo" src="img/deca_logo_small_letters.png" /></a>
  <nav id="navbar">
    <ul>
      <li><a href="" class="active">Landing</a></li>
      <li><a href="login">Sign in</a></li>
      <li><a href="register">Register</a></li>
      <li><a href="reset_password">Account Recovery</a></li>
    </ul>
  </nav>

  <div id="title-container">
    <h1 id="title">Turner Fenton DECA: A History of Design</h1>
  </div>


  <section id="cd-timeline" class="cd-container">



  </section> <!-- cd-timeline -->

  <script>

  $.ajax({
    type: "get",
    url: "includes/ajax",
    data: {ajax_id : JSON.stringify("design_timeline_load")},
  }).done(function(data) {
    result = jQuery.parseJSON(data);
    var entryHTML = ``;
    for (var i = 0; i < result.entry_id.length; i++) {
      entryHTML += `
      <div class="cd-timeline-block">
      <div class="cd-timeline-img cd-picture">
      <img src="img/svg/icon-picture.svg" alt="Picture">
      </div> <!-- cd-timeline-img -->

      <div class="cd-timeline-content">
      <img src="img/design-timeline-optimised/`+result['date_day'][i]+`-main.png" align="middle" width="100%" id="landing-centre-logo"></img>
      <h2>`+result['title'][i]+`</h2>
      <i>`+result['author'][i]+`</i>
      <p>`+result['description'][i]+`</p>
      `;

      var altLeft = result['num_alternates'][i];
      var timesRun = 0;
      while (altLeft > 0) {
        entryHTML += `
        <div class="row">
        `;
        for (var j = 0; j < 4; j++) {
          if (altLeft == 0) {
            break;
          }
          entryHTML += `
          <div class="col-3-sm">
          <img src="img/design-timeline-optimised/`+result['date_day'][i]+`-alt-`+(timesRun + 1)+`.png" align="middle" width="100%" id="landing-centre-logo"></img>
          </div>
          `;
          timesRun++;
          altLeft--;
        }
        entryHTML += `
        </div>
        `;
      }
      entryHTML += `
      <span class="cd-date">`+result['date_month'][i]+`</span>
      </div> <!-- cd-timeline-content -->
      </div> <!-- cd-timeline-block -->
      `;
    }
    $("#cd-timeline").append(entryHTML);
  });

  </script>


</body>

</html>
